<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link rel="stylesheet" href="playing-css-js.css" />
    <title>Playing css js</title>
  </head>
  <body>
    <div class="container">
      <h2>Update css variable with js</h2>
      <label for="spacing">Spacing:</label>
      <input type="range" min="0" max="100" name="spacing" data-sizing="px" />
      <label for="blur">Blur:</label>
      <input type="range" min="0" max="25" name="blur" data-sizing="px" />
      <label for="color">Base color</label>
      <input type="color" name="color" value="#95a5a6" />
      <br />
      <img src="https://picsum.photos/500/400" alt="img" />
    </div>

    <script>
      // khi thực hành với event mousemove thì khi thay đổi giá trị color ta lại phải hover vào khung base color thì màu mới thay đổi được, khá bất tiện.

      // (1) The dataset read-only property of the HTMLOrForeignElement interface provides read/write access to all the custom data attributes (data-*) set on the element.

      // METHOD 1
      //   const input = document.querySelectorAll("input");

      //   function ChangeVl() {
      //     const px = this.dataset.sizing || "";
      //     console.log("--" + this.name);
      //     console.log(`${this.value}` + px);
      //     document.documentElement.style.setProperty(
      //       `--${this.name}`,
      //       this.value + px
      //     );
      //     // console.log(this);
      //   }

      //   //   input.forEach((item) => item.addEventListener("mousemove", ChangeVl));
      //   input.forEach((item) => item.addEventListener("change", ChangeVl));

      // METHOD 2
      const input = document.querySelectorAll("input");
      // console.log(input);

      function changeVl() {
        // console.log(this.value);
        const suffix = this.dataset.sizing || ""; // (1)
        // console.log(suffix);

        document.documentElement.style.setProperty(
          `--${this.name}`,
          this.value + suffix
        );

        // document.documentElement.style.color = "red";
      }

      input.forEach((item) => item.addEventListener("change", changeVl));
      // input.forEach((item) => item.addEventListener("mousemove", changeVl));

      // METHOD 3
      //   const input = document.querySelectorAll("input");

      //   function changeVl() {
      //     const suffix = this.dataset.sizing || "";

      //     document.documentElement.style.setProperty(
      //       `--${this.name}`,
      //       this.value + suffix
      //     );
      //   }
      //   input.forEach((item) => item.addEventListener("change", changeVl));
      //   //   input.forEach((item) => item.addEventListener("mouseleave", changeVl));
    </script>
  </body>
</html>
